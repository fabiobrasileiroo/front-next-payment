<p-toast></p-toast> <!-- Componente para mensagens do PrimeNG -->
<div class="mx-auto px-4 py-4 sm:px-8 lg:container">
  <div class="mb-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
    <button 
      class="px-4 py-2 bg-primary text-white font-semibold rounded-lg shadow-md hover:bg-primary-dark transition"
      (click)="navigateBack()">
      <- Voltar
    </button>
  </div>

  <div class="mt-6 w-full">
    <div class="payment-status w-full md:w-auto bg-background/50 p-3 rounded-t-lg shadow-md">
      <h3 class="text-base font-medium text-foreground">
        Status do Pagamento:
        <span [ngClass]="{
            'text-orange-400': paymentStatus === 'pending',
            'text-green-500': paymentStatus === 'approved',
            'text-red-500': paymentStatus === 'failed'
          }">
          {{ paymentStatus }}
        </span>
      </h3>
      <p class="text-sm text-muted-foreground">{{ statusMessage }}</p>
      <div *ngIf="!paymentUrl" class="mt-2 bg-red-100 text-red-600 p-2 rounded">
        <p>Error: Payment URL not available.</p>
      </div>
      <p class="mt-4 text-md font-medium text-muted-foreground">Tempo restante para pr√≥xima tentativa:</p>
      <p-progressBar [value]="progressBarValue"></p-progressBar>
      <p class="text-sm text-muted-foreground mt-2">{{ timeLeft - elapsedTime }} segundos restantes</p>
      <p class="mt-2 text-sm font-medium text-muted-foreground">Tentativa {{ attemptCount + 1 }} de {{ maxAttempts }}</p>
    </div>
    <iframe *ngIf="paymentIframeUrl" [src]="paymentIframeUrl | safe" 
            class="w-full h-[1000px] rounded-b-md border border-muted" 
            frameborder="0">
    </iframe>
  </div>
</div>
